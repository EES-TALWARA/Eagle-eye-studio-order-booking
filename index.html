<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>EEST Order Booking</title>
<style>
:root{--accent:#00b4ff;--bg:#000;--card:rgba(255,255,255,0.03);--muted:#bfcbdc;--white:#fff}
body{margin:0;font-family:system-ui,Segoe UI,Roboto,'Noto Sans';background:radial-gradient(circle at 10% 10%, #0c1116,#000);color:var(--white)}
.container{max-width:980px;margin:18px auto;padding:18px}
.header{text-align:center;margin-bottom:12px}
.logo{height:70px}
.card{background:var(--card);padding:14px;border-radius:12px;margin-bottom:14px;border:1px solid rgba(255,255,255,0.04)}
label{display:block;margin:8px 0 6px;font-weight:600}
.input,select,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--white)}
.row{display:flex;gap:10px}
.col{flex:1}
.btn{background:var(--accent);color:#00172a;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
.small{font-size:13px;color:var(--muted)}
.service-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;margin-top:10px}
.service-card{background:rgba(255,255,255,0.02);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
.service-title{font-weight:800;margin-bottom:6px}
.price-badge{background:rgba(255,255,255,0.04);padding:6px;border-radius:8px;display:inline-block;margin-top:6px}
.cart-table{width:100%;border-collapse:collapse;margin-top:10px}
.cart-table th,.cart-table td{padding:8px;border-bottom:1px dashed rgba(255,255,255,0.04);font-size:14px;text-align:left}
.totals{background:rgba(255,255,255,0.03);padding:10px;border-radius:8px;margin-top:10px}
.hidden{display:none}
.note{font-size:13px;color:var(--muted);margin-top:8px}
@media(max-width:700px){.row{flex-direction:column}}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <img src="EEST_logo.png" class="logo" alt="EEST">
    <h2>EEST Order Booking</h2>
    <div class="small">Eagle Eye Team ‚Äî Talwara, Banswara</div>
  </div>

  <!-- STEP A: Basic info -->
  <div class="card" id="basicCard">
    <label>‡§®‡§æ‡§Æ</label><input id="name" class="input" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ">
    <div class="row" style="margin-top:8px">
      <div class="col"><label>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤</label><input id="mobile" class="input" placeholder="10-digit mobile"></div>
      <div class="col"><label>Gmail (optional)</label><input id="email" class="input" placeholder="client@gmail.com"></div>
    </div>
    <div style="margin-top:8px" class="row">
      <div class="col"><label>‡§ó‡§æ‡§Å‡§µ / ‡§∂‡§π‡§∞</label><input id="village" class="input" placeholder="‡§ó‡§æ‡§Å‡§µ ‡§ï‡§æ ‡§®‡§æ‡§Æ"></div>
      <div style="width:180px"><label>&nbsp;</label><button class="btn" onclick="startBooking()">Start Booking ‚Üí</button></div>
    </div>
    <div class="note">‡§™‡§π‡§≤‡•á ‡§¨‡•á‡§∏‡§ø‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≠‡§∞‡•á‡§Ç, ‡§´‡§ø‡§∞ ‡§∏‡•á‡§µ‡§æ‡§è‡§Å ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§Ç‡§ó‡•Ä‡•§</div>
  </div>

  <!-- STEP B: Services (hidden until startBooking) -->
  <div id="servicesSection" class="hidden">
    <!-- Tabs: show 4 main categories as buttons -->
    <div class="card">
      <div style="font-weight:800">Choose Services</div>
      <div style="margin-top:10px" id="mainButtons" class="row">
        <button class="btn" onclick="showCategory('photography')" style="flex:1">Photography</button>
        <button class="btn" onclick="showCategory('videography')" style="flex:1">Videography</button>
        <button class="btn" onclick="showCategory('event')" style="flex:1">Event</button>
        <button class="btn" onclick="showCategory('after')" style="flex:1">After Order</button>
      </div>
      <div class="note">‡§π‡§∞ category ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§â‡§∏‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Å ‡§®‡•Ä‡§ö‡•á ‡§¶‡§ø‡§ñ‡•á‡§Ç‡§ó‡•Ä ‚Äî ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á ‡§∏‡§æ‡§Æ‡§®‡•á price/day ‡§î‡§∞ days ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç‡•§</div>
    </div>

    <!-- CATEGORY PANELS -->
    <div id="categoryPanels">
      <!-- Photography -->
      <div id="photographyPanel" class="card hidden">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:800">Photography Services</div>
          <div class="small">Price shown per day / per qty</div>
        </div>
        <div class="service-grid" id="photographyList"></div>
      </div>

      <!-- Videography -->
      <div id="videographyPanel" class="card hidden">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:800">Videography Services</div>
          <div class="small">Price shown per day / per service</div>
        </div>
        <div class="service-grid" id="videographyList"></div>
      </div>

      <!-- Event -->
      <div id="eventPanel" class="card hidden">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:800">Event Packages</div>
          <div class="small">Package price (one-time)</div>
        </div>
        <div class="service-grid" id="eventList"></div>
      </div>

      <!-- After Order -->
      <div id="afterPanel" class="card hidden">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:800">After Order (Editing / Album / Cover)</div>
          <div class="small">Choose and add required post-order services</div>
        </div>
        <div class="service-grid" id="afterList"></div>
      </div>
    </div>
  </div>

  <!-- CART -->
  <div id="cartCard" class="card hidden">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div style="font-weight:800">Cart</div>
      <div class="small" id="cartCount">0 items</div>
    </div>

    <table class="cart-table" id="cartTable">
      <thead><tr><th>Item</th><th>Details</th><th>Qty/Days</th><th>Price</th><th>Amount</th><th></th></tr></thead>
      <tbody id="cartBody"></tbody>
    </table>

    <div id="emptyCart" class="small" style="margin-top:8px">Cart empty ‚Äî ‡§ä‡§™‡§∞ ‡§∏‡•á ‡§∏‡•á‡§µ‡§æ‡§è‡§Å ‡§ú‡•ã‡§°‡§º‡•á‡§Ç‡•§</div>

    <div id="summary" class="totals hidden">
      <div>Total: ‚Çπ<span id="totalAmt">0</span></div>
      <div>Advance (20%): ‚Çπ<span id="advanceAmt">0</span></div>
      <div>Mid Payment (50%): ‚Çπ<span id="midAmt">0</span> ‚Äî Per day: ‚Çπ<span id="perDayAmt">0</span></div>
      <div>Remaining 30% (Album/Video Delivery): ‚Çπ<span id="rem30">0</span></div>
    </div>

    <div style="margin-top:10px" class="row">
      <div class="col"><label>Notes for studio (optional)</label><textarea id="orderNotes" class="input" rows="2" placeholder="Special requests..."></textarea></div>
      <div style="width:160px"><label>&nbsp;</label><button class="btn" onclick="placeOrder()">Place Order</button></div>
    </div>
  </div>

  <div class="small" style="text-align:center;margin-top:10px">üì¶ ‡§Ü‡§™‡§ï‡§æ ‡§°‡•á‡§ü‡§æ 90 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§§‡§ï ‡§∞‡§ñ‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ ‚Äî ‡§ï‡•É‡§™‡§Ø‡§æ 90 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§≤‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§</div>
</div>

<script>
/* ============= CONFIG ============= */
const CONFIG = {
  STUDIO_WHATSAPP: "9196367897528",
  STUDIO_EMAIL: "kdkalal25014@gmail.com",
  APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbymfn1kn94TD5OVwdxTCQteIV8hIzT0oib_PEzTaGk/dev"
};

/* ============= SERVICES (default prices) ============= */
/* You can edit prices or labels here */
const SERVICE_MAP = {
  photography:[
    {id:'phot_trad', label:'Traditional Photography', price:3500, unit:'day'},
    {id:'phot_cand', label:'Candid Photography', price:5000, unit:'day'},
    {id:'phot_out', label:'Outdoor Photography', price:4500, unit:'day'},
    {id:'phot_drone', label:'Drone Photography', price:6000, unit:'day'},
    {id:'phot_portrait', label:'Portrait Photography', price:3000, unit:'day'},
    {id:'phot_product', label:'Product Photography', price:1200, unit:'qty'}
  ],
  videography:[
    {id:'vid_trad', label:'Traditional Videography', price:3500, unit:'day'},
    {id:'vid_cine', label:'Cinematic Videography', price:7000, unit:'day'},
    {id:'vid_pre', label:'Pre-Wedding Shoot (Video)', price:8000, unit:'day'},
    {id:'vid_music', label:'Music Video', price:9000, unit:'day'}
  ],
  event:[
    {id:'evt_wed', label:'Wedding Full Package', price:50000, unit:'package'},
    {id:'evt_eng', label:'Engagement Ceremony', price:15000, unit:'package'},
    {id:'evt_bday', label:'Birthday Event', price:8000, unit:'package'}
  ],
  after:[
    // groups: for "after" we will show small group tiles which open inner options
    {id:'after_vmix', label:'Video Mixing / Editing', price:0, unit:'group'},
    {id:'after_album', label:'Album Designing', price:0, unit:'group'},
    {id:'after_cover', label:'Album Cover (Choose Design)', price:0, unit:'group'}
  ],
  after_details:{
    vmix:[
      {id:'vmix_hd', label:'HD Editing (per hour)', price:500, unitLabel:'hour'},
      {id:'vmix_fhd', label:'Full HD Editing (per hour)', price:700, unitLabel:'hour'},
      {id:'vmix_4k', label:'4K Editing (per hour)', price:1200, unitLabel:'hour'}
    ],
    album:[
      {id:'alb_12x36', label:'12x36 Album', price:3500},
      {id:'alb_12x30', label:'12x30 Album', price:3000},
      {id:'alb_premium', label:'Premium HD Album', price:6000}
    ],
    cover:[
      {id:'cov_leather', label:'Leather Finish (AC-01)', price:1500},
      {id:'cov_velvet', label:'Velvet Finish (AC-02)', price:1800},
      {id:'cov_crystal', label:'Crystal Design (AC-06)', price:4500}
    ]
  }
};

/* ============= STATE ============= */
let CART = [];
let currentCat = null;

/* ============= INIT UI ============= */
function startBooking(){
  const name = document.getElementById('name').value.trim();
  const mobile = document.getElementById('mobile').value.trim();
  if(!name || !mobile){ alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§≠‡§∞‡•á‡§Ç'); return; }
  document.getElementById('basicCard').classList.add('hidden');
  document.getElementById('servicesSection').classList.remove('hidden');
  document.getElementById('cartCard').classList.remove('hidden');
  populateAllLists();
  // auto open photography by default
  showCategory('photography');
  window.scrollTo({top:0, behavior:'smooth'});
}

/* show category panel */
function showCategory(cat){
  currentCat = cat;
  // hide all
  ['photographyPanel','videographyPanel','eventPanel','afterPanel'].forEach(id=>document.getElementById(id).classList.add('hidden'));
  if(cat==='photography') document.getElementById('photographyPanel').classList.remove('hidden');
  if(cat==='videography') document.getElementById('videographyPanel').classList.remove('hidden');
  if(cat==='event') document.getElementById('eventPanel').classList.remove('hidden');
  if(cat==='after') document.getElementById('afterPanel').classList.remove('hidden');
}

/* populate service tiles */
function populateAllLists(){
  // photography
  const pWrap = document.getElementById('photographyList'); pWrap.innerHTML='';
  SERVICE_MAP.photography.forEach(s=> pWrap.appendChild(createServiceTile(s,'photography')));
  // videography
  const vWrap = document.getElementById('videographyList'); vWrap.innerHTML='';
  SERVICE_MAP.videography.forEach(s=> vWrap.appendChild(createServiceTile(s,'videography')));
  // event
  const eWrap = document.getElementById('eventList'); eWrap.innerHTML='';
  SERVICE_MAP.event.forEach(s=> eWrap.appendChild(createServiceTile(s,'event')));
  // after
  const aWrap = document.getElementById('afterList'); aWrap.innerHTML='';
  SERVICE_MAP.after.forEach(s=> aWrap.appendChild(createServiceTile(s,'after')));
}

/* create service tile element */
function createServiceTile(s, mainCat){
  const div = document.createElement('div'); div.className='service-card';
  const title = document.createElement('div'); title.className='service-title'; title.textContent = s.label;
  const price = document.createElement('div'); price.className='price-badge'; price.textContent = s.price ? `‚Çπ${s.price}` : (s.unit==='group' ? '' : 'Price on request');
  div.appendChild(title); div.appendChild(price);

  // inputs depending on unit
  const inputs = document.createElement('div'); inputs.style.marginTop='8px';
  if(s.unit==='day'){
    inputs.innerHTML = `<label>Days</label><input id="${s.id}_days" type="number" class="input" min="1" value="1"> <label>Per-day time (opt)</label><input id="${s.id}_time" class="input" placeholder="e.g. 9:00 - 2:00">`;
  } else if(s.unit==='qty' || s.unit==='service' || s.unit==='package'){
    inputs.innerHTML = `<label>Quantity / Units</label><input id="${s.id}_qty" type="number" class="input" min="1" value="1">`;
  } else if(s.unit==='group'){
    // For group, show a small "Open options" button
    inputs.innerHTML = `<label>Options</label><div style="display:flex;gap:8px"><button class="btn" onclick="openAfterGroup('${s.id}')">Open ${s.label}</button></div>`;
  }
  div.appendChild(inputs);

  // price override input + add button
  const foot = document.createElement('div'); foot.style.marginTop='8px'; foot.innerHTML = `<div style="display:flex;gap:8px;align-items:center"><input id="${s.id}_price" class="input" type="number" style="flex:1" placeholder="Change price (optional)" /><button class="btn" style="width:120px" onclick="addServiceToCart('${mainCat}','${s.id}')">Add</button></div>`;
  div.appendChild(foot);
  return div;
}

/* when After Order group open */
function openAfterGroup(groupId){
  // show modal-like prompt: render inner options in a small overlay (simple)
  const key = groupId.replace('after_',''); // vmix / album / cover
  const inner = SERVICE_MAP.after_details[key];
  if(!inner){ alert('No options'); return; }
  // build choices
  let html = `Select option:\n`;
  inner.forEach(it=> html += `${it.label} ‚Äî ‚Çπ${it.price}\n`);
  // we'll use prompt to ask for inner id (simple UX). Better to build a modal ‚Äî keeping simple for now.
  // Instead open a quick overlay with buttons:
  const overlay = document.createElement('div');
  overlay.style.position='fixed'; overlay.style.inset='0'; overlay.style.background='rgba(0,0,0,0.7)'; overlay.style.display='flex'; overlay.style.alignItems='center'; overlay.style.justifyContent='center'; overlay.style.zIndex=9999;
  const box = document.createElement('div'); box.style.background='#07121a'; box.style.padding='12px'; box.style.borderRadius='10px'; box.style.maxWidth='420px'; box.style.width='90%';
  box.innerHTML = `<div style="font-weight:800;margin-bottom:8px">${SERVICE_MAP.after.find(x=>x.id===groupId).label}</div>`;
  inner.forEach(it=>{
    const b = document.createElement('div'); b.style.display='flex'; b.style.justifyContent='space-between'; b.style.margin='6px 0'; b.style.alignItems='center';
    b.innerHTML = `<div>${it.label}</div><div><span class="price-badge">‚Çπ${it.price}</span> <button class="btn" onclick='selectAfterInner("${groupId}","${it.id}")'>Choose</button></div>`;
    box.appendChild(b);
  });
  const close = document.createElement('div'); close.style.textAlign='right'; close.innerHTML = `<div style="margin-top:8px;text-align:right"><button class="btn" onclick="document.body.removeChild(this.closest('div').querySelector('div'))">Close</button></div>`;
  // append
  overlay.appendChild(box);
  document.body.appendChild(overlay);
  // clicking outside removes
  overlay.onclick = function(e){ if(e.target===overlay) document.body.removeChild(overlay); };
}

/* choose inner and then show qty/days prompt to add */
function selectAfterInner(groupId, innerId){
  // find object
  const key = groupId.replace('after_','');
  const obj = SERVICE_MAP.after_details[key].find(x=>x.id===innerId);
  if(!obj) return;
  // ask quantity/hours
  let qty = 1;
  if(obj.unitLabel==='hour'){
    qty = parseInt(prompt(`Kitne ${obj.unitLabel} chahiye? (default 1)`, '1')||'1');
  } else {
    qty = parseInt(prompt(`Kitne unit chahiye? (default 1)`, '1')||'1');
  }
  if(!qty || qty<1) return;
  // add to cart
  const label = `${SERVICE_MAP.after.find(x=>x.id===groupId).label} ‚Üí ${obj.label}`;
  const price = parseInt(obj.price||0);
  CART.push({id:Date.now()+'_'+Math.floor(Math.random()*999), main:'after', sub:innerId, label, qty, price, amount:price*qty, details:{}});
  renderCart();
  // close overlay
  const overlays = document.querySelectorAll('body > div[style*="position: fixed"]');
  overlays.forEach(o=>document.body.removeChild(o));
}

/* add service to cart from tile */
function addServiceToCart(main, subId){
  // find service
  const svc = SERVICE_MAP[main].find(x=>x.id===subId);
  if(!svc){ alert('Service not found'); return; }
  // read inputs
  let qty = 1;
  if(svc.unit==='day') qty = parseInt(document.getElementById(subId+'_days')?.value || 1);
  else if(svc.unit==='qty' || svc.unit==='service' || svc.unit==='package') qty = parseInt(document.getElementById(subId+'_qty')?.value || 1);
  const override = parseInt(document.getElementById(subId+'_price')?.value);
  const price = !isNaN(override) && override>0 ? override : (svc.price||0);
  if(!qty || qty<1) { alert('‡§ï‡•É‡§™‡§Ø‡§æ valid quantity/days ‡§°‡§æ‡§≤‡•á‡§Ç'); return; }
  const label = svc.label;
  CART.push({id:Date.now()+'_'+Math.floor(Math.random()*999), main, sub:subId, label, qty, price, amount: price*qty, details:{time:document.getElementById(subId+'_time')?.value||''}});
  renderCart();
}

/* render cart */
function renderCart(){
  const tbody = document.getElementById('cartBody'); tbody.innerHTML='';
  if(CART.length===0){
    document.getElementById('cartTable').style.display='none';
    document.getElementById('emptyCart').style.display='block';
    document.getElementById('summary').classList.add('hidden');
    document.getElementById('cartCount').textContent = '0 items';
    return;
  }
  document.getElementById('cartTable').style.display='table';
  document.getElementById('emptyCart').style.display='none';
  document.getElementById('summary').classList.remove('hidden');
  document.getElementById('cartCount').textContent = CART.length + ' items';
  let total = 0; let totalDayUnits = 0;
  CART.forEach(it=>{
    total += it.amount;
    // check if day-type for per-day split (approx)
    const mainList = SERVICE_MAP[it.main] || [];
    const found = mainList.find(x=>x.id===it.sub);
    if(found && found.unit==='day') totalDayUnits += it.qty;
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${it.label}</td><td>${it.details.time||''}</td><td>${it.qty}</td><td>‚Çπ${it.price}</td><td>‚Çπ${it.amount}</td><td><button onclick="removeItem('${it.id}')" style="background:none;border:none;color:#ff8b8b;cursor:pointer">Remove</button></td>`;
    tbody.appendChild(tr);
  });
  document.getElementById('totalAmt').textContent = total;
  const advance = Math.round(total*0.20);
  const mid = Math.round(total*0.50);
  const perDay = totalDayUnits>0 ? Math.round(mid/totalDayUnits) : mid;
  document.getElementById('advanceAmt').textContent = advance;
  document.getElementById('midAmt').textContent = mid;
  document.getElementById('perDayAmt').textContent = perDay;
  document.getElementById('rem30').textContent = Math.round(total*0.30);
}

/* remove */
function removeItem(id){ CART = CART.filter(x=>x.id!==id); renderCart(); }

/* Place order -> POST to Apps Script & WhatsApp */
function placeOrder(){
  if(CART.length===0){ alert('‡§™‡§π‡§≤‡•á ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ ‡§è‡§ï ‡§Ü‡§á‡§ü‡§Æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç'); return; }
  const name = document.getElementById('name').value.trim();
  const mobile = document.getElementById('mobile').value.trim();
  if(!name || !mobile){ alert('‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•à‡§Ç'); return; }
  const payload = {
    name, mobile,
    email: document.getElementById('email').value.trim(),
    village: document.getElementById('village').value.trim(),
    map: '', // optional
    notes: document.getElementById('orderNotes')?.value || '',
    selections: CART.map(it=>({main:it.main, id:it.sub, label:it.label, qty:it.qty, price:it.price, amount:it.amount, details:it.details})),
    total: parseInt(document.getElementById('totalAmt').textContent||0),
    advance: parseInt(document.getElementById('advanceAmt').textContent||0),
    timestamp: new Date().toISOString()
  };

  // send to Apps Script
  if(CONFIG.APPS_SCRIPT_URL){
    fetch(CONFIG.APPS_SCRIPT_URL, {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)})
      .then(r=>r.json()).then(resp=>{
         openWhatsApp(payload, resp);
      }).catch(err=>{
         console.error(err);
         if(confirm('Server error ‚Äî ‡§´‡§ø‡§∞ ‡§≠‡•Ä WhatsApp ‡§≠‡•á‡§ú‡§®‡§æ ‡§π‡•à?')) openWhatsApp(payload,null);
      });
  } else {
    openWhatsApp(payload,null);
  }
}

/* open whatsapp message */
function openWhatsApp(payload, serverResp){
  let msg = `ü¶Ö EAGLE EYE TEAM - NEW BOOKING\n\nüë§ Name: ${payload.name}\nüì± Mobile: ${payload.mobile}\n‚úâÔ∏è Email: ${payload.email||'‚Äî'}\nüè° Village: ${payload.village||'‚Äî'}\n\nSelections:\n`;
  payload.selections.forEach(s=>{
    msg += `- ${s.label} | qty/days: ${s.qty} | ‚Çπ${s.price} each | Amount: ‚Çπ${s.amount}\n`;
    if(s.details && s.details.time) msg += `   Time: ${s.details.time}\n`;
  });
  msg += `\nüí∞ Total: ‚Çπ${payload.total}\nüíµ Advance(20%): ‚Çπ${payload.advance}\n\nNote: ${payload.notes||'‚Äî'}\n\nEagle Eye Team ‚Äî Talwara, Banswara`;
  if(serverResp && serverResp.id) msg = `OrderID:${serverResp.id}\n` + msg;
  const wa = `https://wa.me/${CONFIG.STUDIO_WHATSAPP}?text=` + encodeURIComponent(msg);
  window.open(wa,'_blank');
  alert('WhatsApp ‡§ñ‡•Å‡§≤‡•á‡§ó‡§æ ‚Äî Send ‡§¶‡§¨‡§æ‡§ï‡§∞ ‡§∏‡•ç‡§ü‡•Ç‡§°‡§ø‡§Ø‡•ã ‡§ï‡•ã ‡§∏‡•Ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§');
}

/* init */
(function(){ renderCart(); })();
</script>
</body>
</html>
